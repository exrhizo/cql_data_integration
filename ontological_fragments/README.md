# Ontological Fragments

This directory contains an early prototype for representing ontology metadata in
pandas-like data pipelines. The goal is to describe pieces of an ontology
("fragments") without having to enumerate an entire domain model. These
fragments can be chained together as data moves through a pipeline, allowing
incremental verification of queries and transformations.

## Prototype overview

- `AttributeFragment` – minimal description of a column/attribute.
- `EntityFragment` – groups attribute fragments to describe a table/entity.
- `OntologicalFragment` – collection of entity fragments describing part of an
  ontology.
- `OntologicalDataFrame` – associates a `pandas` DataFrame (or compatible
  object) with an `OntologicalFragment`.

By attaching a fragment to a DataFrame, downstream stages can reason about the
expected columns and entity semantics. This is deliberately lightweight so that
only the pieces relevant to a given query need to be specified.

## Notes and future directions

The current implementation is intentionally small. To build a more complete
constraint language we could:

1. Allow fragments to declare relationships between entities, giving the
   pipeline enough structure to verify joins or referential constraints.
2. Introduce validation hooks that check DataFrame contents against fragment
   definitions (e.g. data types or required columns).
3. Support merging fragments as a pipeline progresses, so partial information can
   accumulate rather than having to be known upfront.
4. Explore how ontology fragments generated by an LLM could be used to tag
   queries automatically, providing a basis for static analysis before
   execution.

These ideas aim toward a gradual typing approach where each stage in the
pipeline can increase its knowledge about the data and enforce stronger
properties over time.
